# Gemini 2.5 Pro æ¨¡å‹åŠ«æŒåŠŸèƒ½æ€»ç»“

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°
å®ç°äº†å¯¹ `gemini-2.5-pro` æ¨¡å‹è°ƒç”¨çš„è‡ªåŠ¨åŠ«æŒï¼Œé€æ˜åœ°è½¬æ¢ä¸ºç”¨æˆ·é…ç½®çš„ç¬¬ä¸‰æ–¹ OpenAI å…¼å®¹ API è°ƒç”¨ã€‚

## ğŸ“ é…ç½®æ–‡ä»¶
**ä½ç½®**: `~/.gemini/.env`

```bash
# Gemini CLI åŠ«æŒé…ç½®
# å½“è°ƒç”¨ gemini-2.5-pro æ—¶è‡ªåŠ¨åŠ«æŒåˆ°ä»¥ä¸‹é…ç½®
HIJACK_ENABLED=true
HIJACK_TARGET_MODEL=gemini-2.5-pro
HIJACK_PROVIDER=OPENAI_COMPATIBLE
HIJACK_ACTUAL_MODEL=blacktooth-ab-test
HIJACK_API_KEY=1234567890
HIJACK_API_ENDPOINT=http://127.0.0.1:2048/v1
```

## ğŸ‘ï¸ ç”¨æˆ·å¯è§çš„æç¤º

### 1. å¯åŠ¨ç•Œé¢æç¤º
å½“ç”¨æˆ·å¯åŠ¨ `gemini-cli` æ—¶ï¼Œä¼šåœ¨ ASCII è‰ºæœ¯å›¾ä¸‹æ–¹çœ‹åˆ°ï¼š

```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ğŸ”„ Model Hijack Active                     â”‚
â”‚ ğŸ“ gemini-2.5-pro â†’ blacktooth-ab-test     â”‚
â”‚ ğŸ”— Endpoint: http://127.0.0.1:2048/v1      â”‚
â”‚ âœ… Configuration loaded from ~/.gemini/.env â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

### 2. æ¨¡å‹è°ƒç”¨æ—¶æç¤º
å½“å®é™…è°ƒç”¨ `gemini-2.5-pro` æ¨¡å‹æ—¶ï¼Œæ§åˆ¶å°ä¼šæ˜¾ç¤ºï¼š

```
ğŸ‰ ===== MODEL HIJACK SUCCESSFUL ===== ğŸ‰
ğŸ¯ Original Model: gemini-2.5-pro
âœ¨ Hijacked To: blacktooth-ab-test
ğŸ”— Endpoint: http://127.0.0.1:2048/v1
ğŸ”‘ Using API Key: 12345678...
ğŸ›¡ï¸ Request will be transparently redirected
========================================
```

## ğŸ”§ æŠ€æœ¯å®ç°

### æ ¸å¿ƒæ–‡ä»¶ä¿®æ”¹
1. **packages/core/src/core/contentGenerator.ts**
   - æ·»åŠ  `loadHijackConfigFromEnv()` ä»ç¯å¢ƒå˜é‡è¯»å–é…ç½®
   - æ·»åŠ  `getHijackInfo()` ä¸ºå¯åŠ¨ç•Œé¢æä¾›ä¿¡æ¯
   - åœ¨ `createContentGeneratorConfig()` ä¸­å®ç°åŠ«æŒé€»è¾‘

2. **packages/core/src/core/openaiCompatibleContentGenerator.ts**
   - æ–°å»º OpenAI å…¼å®¹çš„å†…å®¹ç”Ÿæˆå™¨
   - æ”¯æŒæ™®é€šå’Œæµå¼å†…å®¹ç”Ÿæˆ

3. **packages/cli/src/ui/components/Tips.tsx**
   - æ·»åŠ å¯åŠ¨ç•Œé¢çš„åŠ«æŒé…ç½®æç¤ºæ¡†

### å·¥ä½œæµç¨‹
1. ç”¨æˆ·æ‰§è¡Œ: `gemini-cli -m gemini-2.5-pro`
2. å¯åŠ¨ç•Œé¢æ˜¾ç¤ºåŠ«æŒé…ç½®çŠ¶æ€
3. ç³»ç»ŸåŠ è½½ `~/.gemini/.env` ç¯å¢ƒå˜é‡
4. æ£€æµ‹åˆ° `gemini-2.5-pro` åŒ¹é…åŠ«æŒè§„åˆ™
5. æ˜¾ç¤ºè¯¦ç»†çš„åŠ«æŒæˆåŠŸæ¶ˆæ¯
6. è‡ªåŠ¨åˆ‡æ¢åˆ° OpenAI å…¼å®¹è®¤è¯æ¨¡å¼
7. ä½¿ç”¨ `blacktooth-ab-test` æ¨¡å‹è°ƒç”¨æœ¬åœ°ç«¯ç‚¹
8. å¯¹ä¸Šå±‚åº”ç”¨å®Œå…¨é€æ˜

## ğŸ“‹ ä½¿ç”¨è¯´æ˜

1. **é…ç½®åŠ«æŒ**:
   - åˆ›å»º `~/.gemini/.env` æ–‡ä»¶
   - è®¾ç½®ç›¸åº”çš„ç¯å¢ƒå˜é‡

2. **å¯ç”¨åŠ«æŒ**:
   - ç¡®ä¿ `HIJACK_ENABLED=true`
   - é…ç½®ç›®æ ‡æ¨¡å‹å’Œå®é™…æ¨¡å‹

3. **æŸ¥çœ‹çŠ¶æ€**:
   - å¯åŠ¨æ—¶åœ¨ Tips åŒºåŸŸæŸ¥çœ‹é…ç½®çŠ¶æ€
   - è°ƒç”¨æ—¶åœ¨æ§åˆ¶å°æŸ¥çœ‹åŠ«æŒæ¶ˆæ¯

4. **æµ‹è¯•åŠŸèƒ½**:
   ```bash
   gemini-cli -m gemini-2.5-pro
   ```

## ğŸ§ª æµ‹è¯•è„šæœ¬
- `test-env-hijack.cjs` - æµ‹è¯•ç¯å¢ƒå˜é‡é…ç½®
- `demo-startup-hijack.cjs` - æ¼”ç¤ºå¯åŠ¨ç•Œé¢
- `demo-hijack-message.cjs` - æ¼”ç¤ºåŠ«æŒæ¶ˆæ¯

ç°åœ¨ç”¨æˆ·å¯ä»¥åœ¨ä¸¤ä¸ªä½ç½®æ¸…æ¥šåœ°çœ‹åˆ°åŠ«æŒé…ç½®çŠ¶æ€ï¼šå¯åŠ¨ç•Œé¢å’Œå®é™…è°ƒç”¨æ—¶ï¼