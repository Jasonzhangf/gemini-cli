# æ ‡å‡†åŒ–ä¸Šä¸‹æ–‡é›†æˆç»“æ„

## æ¦‚è§ˆ

æŒ‰ç…§æ ‡å‡†ç»“æ„ `{ç³»ç»Ÿä¸Šä¸‹æ–‡},{é™æ€ä¸Šä¸‹æ–‡},{åŠ¨æ€ä¸Šä¸‹æ–‡},{ä»»åŠ¡ä¸Šä¸‹æ–‡}` ç»„ç»‡æ‰€æœ‰ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚

## ç»“æ„å®šä¹‰

```typescript
interface StandardContext {
  system: SystemContext;    // ç³»ç»Ÿä¸Šä¸‹æ–‡
  static: StaticContext;    // é™æ€ä¸Šä¸‹æ–‡  
  dynamic: DynamicContext;  // åŠ¨æ€ä¸Šä¸‹æ–‡
  task: TaskContext;        // ä»»åŠ¡ä¸Šä¸‹æ–‡
}
```

## 1. ç³»ç»Ÿä¸Šä¸‹æ–‡ (System Context)
*æ¥æº: å½“å‰è¿è¡Œç¯å¢ƒå’Œç³»ç»ŸçŠ¶æ€*

```typescript
interface SystemContext {
  workingDirectory: string;  // å½“å‰å·¥ä½œç›®å½•
  timestamp: string;         // ä¼šè¯æ—¶é—´æˆ³
  sessionId: string;         // ä¼šè¯ID
  tools: string[];          // å¯ç”¨å·¥å…·åˆ—è¡¨
  capabilities: string[];    // ç³»ç»Ÿèƒ½åŠ›
}
```

**è¾“å‡ºæ ¼å¼:**
```
# ğŸ–¥ï¸ ç³»ç»Ÿä¸Šä¸‹æ–‡ (System Context)
*æ¥æº: å½“å‰è¿è¡Œç¯å¢ƒå’Œç³»ç»ŸçŠ¶æ€*

**å·¥ä½œç›®å½•**: /Users/user/project
**ä¼šè¯æ—¶é—´**: 2025-01-13T09:30:00.000Z
**ä¼šè¯ID**: session_123
**å¯ç”¨å·¥å…·**: list_directory, read_file, write_file, run_shell_command...
**ç³»ç»Ÿèƒ½åŠ›**: file_operations, shell_execution, web_search...
```

## 2. é™æ€ä¸Šä¸‹æ–‡ (Static Context)
*æ¥æº: é¡¹ç›®æ–‡ä»¶ã€é…ç½®å’Œè§„åˆ™*

```typescript
interface StaticContext {
  projectStructure?: string;   // é¡¹ç›®ç›®å½•ç»“æ„
  dependencies?: string[];     // ä¾èµ–é…ç½®æ–‡ä»¶å†…å®¹
  documentation?: string[];    // é¡¹ç›®æ–‡æ¡£å†…å®¹
  gitStatus?: string;         // GitçŠ¶æ€ä¿¡æ¯
  globalRules?: string[];     // å…¨å±€è§„åˆ™(~/.gemini/globalrules)
  projectRules?: string[];    // é¡¹ç›®è§„åˆ™(./gemini/localrules)
}
```

**è¾“å‡ºæ ¼å¼:**
```
# ğŸ“‹ é™æ€ä¸Šä¸‹æ–‡ (Static Context)
*æ¥æº: é¡¹ç›®æ–‡ä»¶ã€é…ç½®å’Œè§„åˆ™*

## ğŸŒ å…¨å±€è§„åˆ™ (2ä¸ª)
*é€‚ç”¨äºæ‰€æœ‰é¡¹ç›®çš„é€šç”¨è§„åˆ™*

--- å…¨å±€è§„åˆ™: coding-standards.md ---
# ç¼–ç æ ‡å‡†
...

--- å…¨å±€è§„åˆ™: security-rules.md ---
# å®‰å…¨è§„åˆ™
...

## ğŸ  é¡¹ç›®è§„åˆ™ (1ä¸ª)
*å½“å‰é¡¹ç›®ç‰¹å®šè§„åˆ™*

--- é¡¹ç›®è§„åˆ™: project-guidelines.md ---
# é¡¹ç›®æŒ‡å¯¼åŸåˆ™
...

## ğŸ“ é¡¹ç›®ç»“æ„
```
project/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â””â”€â”€ utils/
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸ“¦ ä¾èµ–é…ç½®
=== package.json ===
{
  "name": "project",
  "dependencies": {...}
}

## ğŸ“– é¡¹ç›®æ–‡æ¡£
=== README.md ===
# Project Name
Description...

## ğŸ”— GitçŠ¶æ€
```
Gitåˆ†æ”¯: main
GitçŠ¶æ€:
M package.json
A src/new-file.ts
```

## 3. åŠ¨æ€ä¸Šä¸‹æ–‡ (Dynamic Context)
*æ¥æº: è¿è¡Œæ—¶çŠ¶æ€å’Œæ“ä½œå†å²*

```typescript
interface DynamicContext {
  recentOperations: string[];   // æœ€è¿‘æ‰§è¡Œçš„æ“ä½œ
  errorHistory: string[];       // é”™è¯¯å†å²
  runtimeInfo: string[];        // è¿è¡Œæ—¶ä¿¡æ¯
  userInstructions: string[];   // ç”¨æˆ·æŒ‡ä»¤
}
```

**è¾“å‡ºæ ¼å¼:**
```
# ğŸ”„ åŠ¨æ€ä¸Šä¸‹æ–‡ (Dynamic Context)
*æ¥æº: è¿è¡Œæ—¶çŠ¶æ€å’Œæ“ä½œå†å²*

## âš¡ è¿è¡Œæ—¶ä¿¡æ¯
[åŠ¨æ€æ·»åŠ çš„è¿è¡Œæ—¶ä¿¡æ¯]

## ğŸ“ æœ€è¿‘æ“ä½œ
- æ‰§è¡Œäº†æ–‡ä»¶è¯»å–æ“ä½œ
- è¿è¡Œäº†æ„å»ºå‘½ä»¤

## âŒ é”™è¯¯å†å²
- æ„å»ºå¤±è´¥: TypeScripté”™è¯¯
- æ–‡ä»¶æœªæ‰¾åˆ°: config.json

## ğŸ‘¤ ç”¨æˆ·æŒ‡ä»¤
- è¯·åˆ†æé¡¹ç›®ç»“æ„
- ä¿®å¤æ„å»ºé”™è¯¯
```

## 4. ä»»åŠ¡ä¸Šä¸‹æ–‡ (Task Context)
*æ¥æº: å½“å‰ä»»åŠ¡ç®¡ç†çŠ¶æ€*

```typescript
interface TaskContext {
  workflow?: WorkflowTemplate;  // å·¥ä½œæµæ¨¡æ¿
  currentTask?: string;         // å½“å‰ä»»åŠ¡
  taskList?: Array<{           // ä»»åŠ¡åˆ—è¡¨
    id: string;
    description: string;
    status: 'pending' | 'in_progress' | 'completed';
  }>;
  progress?: string;           // è¿›åº¦ä¿¡æ¯
  maintenanceMode: boolean;    // æ˜¯å¦åœ¨ä»»åŠ¡ç»´æŠ¤æ¨¡å¼
}
```

**è¾“å‡ºæ ¼å¼:**
```
# ğŸ¯ ä»»åŠ¡ä¸Šä¸‹æ–‡ (Task Context)
*æ¥æº: å½“å‰ä»»åŠ¡ç®¡ç†çŠ¶æ€*

**çŠ¶æ€**: ä»»åŠ¡ç»´æŠ¤æ¨¡å¼å·²æ¿€æ´»

## ğŸ“‹ å·¥ä½œæµæ¨¡æ¿
**åç§°**: Explore, Plan, Code, Test
**æè¿°**: ç»¼åˆå¼€å‘å·¥ä½œæµ
**ç±»åˆ«**: development

## ğŸ”„ å½“å‰ä»»åŠ¡
**ä»»åŠ¡**: ğŸ“Š æ¢ç´¢é¡¹ç›®ç»“æ„
**è¿›åº¦**: 1/4

## ğŸ“ ä»»åŠ¡åˆ—è¡¨
1. ğŸ”„ ğŸ“Š æ¢ç´¢é¡¹ç›®ç»“æ„ (in_progress)
2. â³ ğŸ“‹ åˆ¶å®šè¯¦ç»†è®¡åˆ’ (pending)
3. â³ ğŸ’» ç¼–å†™ä»£ç å®ç° (pending)
4. â³ ğŸ§ª è¿è¡Œæµ‹è¯•éªŒè¯ (pending)

## ğŸš¨ é‡è¦æç¤º
- å½“å‰ä¸“æ³¨äº: "ğŸ“Š æ¢ç´¢é¡¹ç›®ç»“æ„"
- å®Œæˆåè¯·ä½¿ç”¨ä»»åŠ¡å·¥å…·æ›´æ–°çŠ¶æ€
- ä½¿ç”¨ finish_current_task å·¥å…·å®Œæˆå½“å‰ä»»åŠ¡
```

## ä½¿ç”¨ç¤ºä¾‹

### 1. åŸºç¡€ä»»åŠ¡åˆ›å»ºï¼ˆæ— æ¨¡æ¿ï¼‰
```bash
# åˆ›å»ºç®€å•ä»»åŠ¡åˆ—è¡¨
create_tasks for tasks ["åˆ†æä»£ç ", "ä¿®å¤bug", "æµ‹è¯•éªŒè¯"]
```

### 2. ä½¿ç”¨å·¥ä½œæµæ¨¡æ¿
```bash
# ä½¿ç”¨é¢„å®šä¹‰æ¨¡æ¿åˆ›å»ºä»»åŠ¡
create_tasks with template "explore-plan-code-test" autoContext true
```

### 3. é¡¹ç›®åˆ†ææ¨¡æ¿
```bash
# ä½¿ç”¨é¡¹ç›®åˆ†ææ¨¡æ¿
create_tasks with template "project-analysis" 
```

## æ¨¡æ¿ç³»ç»Ÿ

### å†…ç½®æ¨¡æ¿

1. **explore-plan-code-test**: å®Œæ•´å¼€å‘å·¥ä½œæµ
   - ğŸ“Š æ¢ç´¢é¡¹ç›®ç»“æ„
   - ğŸ“‹ åˆ¶å®šè¯¦ç»†è®¡åˆ’  
   - ğŸ’» ç¼–å†™ä»£ç å®ç°
   - ğŸ§ª è¿è¡Œæµ‹è¯•éªŒè¯

2. **project-analysis**: é¡¹ç›®åˆ†æå·¥ä½œæµ
   - ğŸ“ åˆ†æç›®å½•ç»“æ„
   - ğŸ“¦ åˆ†æä¾èµ–é…ç½®
   - ğŸ“– åˆ†ææ–‡æ¡£å’ŒREADME
   - ğŸ” åˆ†ææ ¸å¿ƒä»£ç æ¨¡å¼

3. **bug-fix**: Bugä¿®å¤å·¥ä½œæµ
   - ğŸ› é‡ç°å’Œåˆ†æé—®é¢˜
   - ğŸ” æŸ¥æ‰¾æ ¹æœ¬åŸå› 
   - ğŸ› ï¸ å®ç°ä¿®å¤æ–¹æ¡ˆ
   - âœ… éªŒè¯ä¿®å¤æ•ˆæœ

### è‡ªåŠ¨ä¸Šä¸‹æ–‡å‘ç°

å½“å¯ç”¨ `autoContext: true` æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š

1. **åˆ†æé¡¹ç›®ç»“æ„** - ç”Ÿæˆç›®å½•æ ‘
2. **è¯»å–ä¾èµ–æ–‡ä»¶** - package.json, requirements.txtç­‰
3. **æ‰«ææ–‡æ¡£** - README, docsç›®å½•
4. **è·å–GitçŠ¶æ€** - åˆ†æ”¯ã€å˜æ›´çŠ¶æ€
5. **åº”ç”¨é¡¹ç›®è§„åˆ™** - .gemini/rulesé…ç½®

## ä¸Šä¸‹æ–‡ä¼˜å…ˆçº§

1. **ä»»åŠ¡ä¸Šä¸‹æ–‡** - æœ€é«˜ä¼˜å…ˆçº§ï¼ŒæŒ‡å¯¼å½“å‰æ“ä½œ
2. **é™æ€ä¸Šä¸‹æ–‡** - é¡¹ç›®åŸºç¡€ä¿¡æ¯ï¼Œç¨³å®šä¸å˜
3. **åŠ¨æ€ä¸Šä¸‹æ–‡** - è¿è¡Œæ—¶çŠ¶æ€ï¼Œå®æ—¶æ›´æ–°
4. **ç³»ç»Ÿä¸Šä¸‹æ–‡** - ç¯å¢ƒä¿¡æ¯ï¼Œæä¾›åŸºç¡€èƒ½åŠ›

## é”™è¯¯å¤„ç†

- å¦‚æœæŸä¸ªä¸Šä¸‹æ–‡æ”¶é›†å¤±è´¥ï¼Œä¸å½±å“å…¶ä»–ä¸Šä¸‹æ–‡
- æ¯ä¸ªä¸Šä¸‹æ–‡éƒ¨åˆ†éƒ½æœ‰é»˜è®¤çš„ç©ºçŠ¶æ€å¤„ç†
- é”™è¯¯ä¿¡æ¯ä¼šè®°å½•åˆ°åŠ¨æ€ä¸Šä¸‹æ–‡çš„é”™è¯¯å†å²ä¸­
- ä¸Šä¸‹æ–‡æ”¶é›†å¤±è´¥æ—¶ï¼Œç³»ç»Ÿä»èƒ½æ­£å¸¸å·¥ä½œ

## æ€§èƒ½ä¼˜åŒ–

- ä¸Šä¸‹æ–‡æ”¶é›†é‡‡ç”¨å¹¶è¡Œå¤„ç†
- å¤§æ–‡ä»¶å†…å®¹ä¼šè¢«æˆªæ–­ä»¥é¿å…ä¸Šä¸‹æ–‡è¿‡å¤§
- ç¼“å­˜é™æ€ä¸Šä¸‹æ–‡é¿å…é‡å¤è®¡ç®—
- æä¾›é€‰æ‹©æ€§ä¸Šä¸‹æ–‡æ”¶é›†é€‰é¡¹